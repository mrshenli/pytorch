
sequenceDiagram
    participant A
    participant B
    participant C
    Note over B: rref = RRef(torch.ones(2))
    Note over B: create rref {100, 1}
    Note over B: rpc_async('C', func, rref)
    Note over B: add user {100, 2}
    Note over B: rref {100, 1} exits scope


    B->>C: rpc_async cmd sent
    Note over C: finish func
    C-->>B: return value of rpc_async
    Note over C: delete user {100, 2}
    C-->>B: delete user {100, 2}
    Note over B: delete user {100, 2}
    Note over B: delete owner {100}
